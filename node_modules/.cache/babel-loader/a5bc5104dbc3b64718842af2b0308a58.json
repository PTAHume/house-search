{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/patri/OneDrive/Documents/GitHub/React/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/patri/OneDrive/Documents/GitHub/React/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/patri/OneDrive/Documents/GitHub/React/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,useMemo}from\"react\";import\"./main-page.css\";import Header from\"./header\";import{BrowserRouter as Router,Route,Routes}from\"react-router-dom\";import FeaturedHouse from\"./featured-house\";import HouseFilter from\"./house-filter\";import SearchResults from\"../search-results/search-results\";import HouseFromQuery from'./house-from-query';//useEffect - create side effect when stat of component changes\n//useMemo - cache'ing\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allHouses=_useState2[0],setAllHouses=_useState2[1];useEffect(function(){var fetchHouses=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resp,houses;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"houses.json\");case 2:resp=_context.sent;_context.next=5;return resp.json();case 5:houses=_context.sent;setAllHouses(houses);case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchHouses(){return _ref.apply(this,arguments);};}();fetchHouses();},[]);var featureHouses=useMemo(function(){if(allHouses!==null&&allHouses!==void 0&&allHouses.length){var randomIndex=Math.floor(Math.random()*allHouses.length);return allHouses[randomIndex];}},[allHouses]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{subtitle:\"Proving houses all over the world\"}),/*#__PURE__*/_jsx(HouseFilter,{allHouses:allHouses}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/SearchResults/:country\",element:/*#__PURE__*/_jsx(SearchResults,{allHouses:allHouses})}),/*#__PURE__*/_jsx(Route,{path:\"/House/:id\",element:/*#__PURE__*/_jsx(HouseFromQuery,{house:allHouses})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(FeaturedHouse,{house:featureHouses})})]})]})});}/*\n                    <Router>\nalways rendered  ->    <h1>Hi there</h1>\n                      <Switch>\nwww.me.com/about ->    <Route exact path=\"/about\"> exact prevent partial match\n                        <About></About>\n                        </Route>\nwww.me.com ->           <Route path=\"/\">\n                          <FeaturedHouse></FeaturedHouse>\n                        </Route>\n                      </Switch>\n                    </Router>\n*/","map":{"version":3,"names":["useEffect","useState","useMemo","Header","BrowserRouter","Router","Route","Routes","FeaturedHouse","HouseFilter","SearchResults","HouseFromQuery","App","allHouses","setAllHouses","fetchHouses","fetch","resp","json","houses","featureHouses","length","randomIndex","Math","floor","random"],"sources":["C:/Users/patri/OneDrive/Documents/GitHub/React/my-app/src/main-page/index.tsx"],"sourcesContent":["import { useEffect, useState, useMemo } from \"react\";\nimport \"./main-page.css\";\nimport Header from \"./header\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport FeaturedHouse from \"./featured-house\";\nimport HouseFilter from \"./house-filter\";\nimport SearchResults from \"../search-results/search-results\";\nimport HouseFromQuery from './house-from-query'\n//useEffect - create side effect when stat of component changes\n//useMemo - cache'ing\n\nexport default function App() {\n  const [allHouses, setAllHouses] = useState([] as any);\n  useEffect(() => {\n    const fetchHouses = async () => {\n      const resp = await fetch(\"houses.json\");\n      const houses = await resp.json();\n      setAllHouses(houses);\n    };\n    fetchHouses();\n  }, []);\n\n  const featureHouses = useMemo(() => {\n    if (allHouses?.length) {\n      const randomIndex = Math.floor(Math.random() * allHouses.length);\n      return allHouses[randomIndex];\n    }\n  }, [allHouses]);\n  return (\n    <Router>\n      <div className=\"container\">\n        <Header subtitle=\"Proving houses all over the world\" />\n        <HouseFilter allHouses={allHouses} />\n        <Routes>\n          <Route\n            path=\"/SearchResults/:country\"\n            element={<SearchResults allHouses={allHouses} />}\n          />\n           <Route\n            path=\"/House/:id\"\n            element={<HouseFromQuery house={allHouses} />}\n          />\n          <Route\n            path=\"/\"\n            element={<FeaturedHouse house={featureHouses}></FeaturedHouse>}\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\n/*\n                    <Router>\nalways rendered  ->    <h1>Hi there</h1>\n                      <Switch>\nwww.me.com/about ->    <Route exact path=\"/about\"> exact prevent partial match\n                        <About></About>\n                        </Route>\nwww.me.com ->           <Route path=\"/\">\n                          <FeaturedHouse></FeaturedHouse>\n                        </Route>\n                      </Switch>\n                    </Router>\n*/\n"],"mappings":"ibAAA,OAASA,SAAT,CAAoBC,QAApB,CAA8BC,OAA9B,KAA6C,OAA7C,CACA,MAAO,iBAAP,CACA,MAAOC,OAAP,KAAmB,UAAnB,CACA,OAASC,aAAa,GAAIC,OAA1B,CAAkCC,KAAlC,CAAyCC,MAAzC,KAAuD,kBAAvD,CACA,MAAOC,cAAP,KAA0B,kBAA1B,CACA,MAAOC,YAAP,KAAwB,gBAAxB,CACA,MAAOC,cAAP,KAA0B,kCAA1B,CACA,MAAOC,eAAP,KAA2B,oBAA3B,CACA;AACA;wFAEA,cAAe,SAASC,IAAT,EAAe,CAC5B,cAAkCX,QAAQ,CAAC,EAAD,CAA1C,wCAAOY,SAAP,eAAkBC,YAAlB,eACAd,SAAS,CAAC,UAAM,CACd,GAAMe,YAAW,4FAAG,2KACCC,MAAK,CAAC,aAAD,CADN,QACZC,IADY,qCAEGA,KAAI,CAACC,IAAL,EAFH,QAEZC,MAFY,eAGlBL,YAAY,CAACK,MAAD,CAAZ,CAHkB,sDAAH,kBAAXJ,YAAW,0CAAjB,CAKAA,WAAW,GACZ,CAPQ,CAON,EAPM,CAAT,CASA,GAAMK,cAAa,CAAGlB,OAAO,CAAC,UAAM,CAClC,GAAIW,SAAJ,SAAIA,SAAJ,WAAIA,SAAS,CAAEQ,MAAf,CAAuB,CACrB,GAAMC,YAAW,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgBZ,SAAS,CAACQ,MAArC,CAApB,CACA,MAAOR,UAAS,CAACS,WAAD,CAAhB,CACD,CACF,CAL4B,CAK1B,CAACT,SAAD,CAL0B,CAA7B,CAMA,mBACE,KAAC,MAAD,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,KAAC,MAAD,EAAQ,QAAQ,CAAC,mCAAjB,EADF,cAEE,KAAC,WAAD,EAAa,SAAS,CAAEA,SAAxB,EAFF,cAGE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,yBADP,CAEE,OAAO,cAAE,KAAC,aAAD,EAAe,SAAS,CAAEA,SAA1B,EAFX,EADF,cAKG,KAAC,KAAD,EACC,IAAI,CAAC,YADN,CAEC,OAAO,cAAE,KAAC,cAAD,EAAgB,KAAK,CAAEA,SAAvB,EAFV,EALH,cASE,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cAAE,KAAC,aAAD,EAAe,KAAK,CAAEO,aAAtB,EAFX,EATF,GAHF,GADF,EADF,CAsBD,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}